(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24307330"],{5375:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),t._v(" 文章管理")]),a("el-breadcrumb-item",[t._v("撰写文章")])],1)],1),a("div",{staticClass:"container"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"auto"}},[a("el-form-item",{attrs:{label:"文章标题"}},[a("el-input",{staticStyle:{width:"300px"},model:{value:t.article.title,callback:function(e){t.$set(t.article,"title",e)},expression:"article.title"}})],1),a("el-form-item",{attrs:{label:"封面图链接"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{autosize:"",placeholder:"可自定义封面图链接",maxlength:"10"},model:{value:t.article.image_url,callback:function(e){t.$set(t.article,"image_url",e)},expression:"article.image_url"}}),a("el-upload",{staticClass:"upload-demo",attrs:{name:"common",action:"/api/publicUploadFile","on-success":t.success,"list-type":"picture"},scopedSlots:t._u([{key:"tip",fn:function(){return[a("div",{staticClass:"el-upload__tip"},[t._v("\n              只能上传 jpg/png 文件，且不超过 500kb\n            ")])]},proxy:!0}])},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),a("el-form-item",{attrs:{label:"文章分类"}},[a("el-select",{attrs:{filterable:"",placeholder:"类别选择"},model:{value:t.article.category,callback:function(e){t.$set(t.article,"category",e)},expression:"article.category"}},t._l(t.category,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})})),1),t._v("\n\n        自定义类别：\n        "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入类别名","suffix-icon":"el-icon-plus"},model:{value:t.article.category,callback:function(e){t.$set(t.article,"category",e)},expression:"article.category"}})],1),a("el-form-item",{attrs:{label:"文章标签"}},[a("el-input",{staticStyle:{width:"300px"},model:{value:t.article.label,callback:function(e){t.$set(t.article,"label",e)},expression:"article.label"}})],1),a("el-form-item",{attrs:{label:"文章内容"}}),a("quill-editor",{ref:"myTextEditor",attrs:{options:t.editorOption},model:{value:t.article.content,callback:function(e){t.$set(t.article,"content",e)},expression:"article.content"}}),a("el-form-item",{attrs:{label:"是否公开"}},[a("el-switch",{model:{value:t.article.status,callback:function(e){t.$set(t.article,"status",e)},expression:"article.status"}})],1)],1),a("el-button",{staticClass:"editor-btn",attrs:{type:"primary"},on:{click:function(e){return t.submit(0)}}},[t._v("保存")]),a("el-button",{staticClass:"editor-btn",attrs:{type:"primary"},on:{click:function(e){return t.submit(1)}}},[t._v("发布")])],1)])},s=[],c=(a("a753"),a("8096"),a("14e1"),a("953d")),i={name:"editor",data:function(){return{content:"",category:[],delivery:!1,editorOption:{placeholder:"Hello World"},article:{title:"",category:"",label:"",content:"",status:1,author:"admin",image_url:""}}},components:{quillEditor:c["quillEditor"]},methods:{onEditorChange:function(t){t.editor;var e=t.html;t.text;this.content=e},success:function(t,e,a){this.$message.success(t.message),this.article.image_url=t.data.url,console.log(t),console.log(e),console.log(a)},getCategory:function(){var t=this;this.$axios.get("/getCategory").then((function(e){200==e.data.code?t.category=e.data.data:(t.$message.success("分类类别接口请求异常!"),console.log(e.data))})).catch((function(e){t.$message.success(e),console.log(e)}))},submit:function(t){var e=this;this.article.status=t,this.$axios.post("/setAdminArticle",this.article).then((function(t){200==t.data.code?0==e.article.status?e.$message.success("保存成功！"):1==e.article.status?e.$message.success("发布成功！"):e.$message.success("已提交审核成功！"):(e.$message.success("操作失败！"),console.log(t.data))})).catch((function(t){e.$message.success(t),console.log(t)}))}},created:function(){this.getCategory()}},o=i,r=(a("54c6"),a("2877")),n=Object(r["a"])(o,l,s,!1,null,"70000b84",null);e["default"]=n.exports},"54c6":function(t,e,a){"use strict";a("8cf0")},"8cf0":function(t,e,a){}}]);