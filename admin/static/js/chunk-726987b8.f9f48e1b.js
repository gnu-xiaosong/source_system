(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-726987b8"],{9772:function(e,t,a){},ade3:function(e,t,a){"use strict";function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return l}))},d90e:function(e,t,a){"use strict";a("9772")},e810:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"ab"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"auto"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{staticStyle:{width:"500px"},model:{value:e.article1.title,callback:function(t){e.$set(e.article1,"title",t)},expression:"article1.title"}})],1),a("el-form-item",{attrs:{label:"资源分类"}},[a("el-select",{attrs:{filterable:"",placeholder:"类别选择"},model:{value:e.article1.category,callback:function(t){e.$set(e.article1,"category",t)},expression:"article1.category"}},e._l(e.category,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1),e._v("\n\n        自定义类别：\n        "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入类别名","suffix-icon":"el-icon-plus"},model:{value:e.article1.category,callback:function(t){e.$set(e.article1,"category",t)},expression:"article1.category"}})],1),a("el-form-item",{attrs:{label:"资源标签"}},[a("el-input",{staticStyle:{width:"300px"},model:{value:e.article1.label,callback:function(t){e.$set(e.article1,"label",t)},expression:"article1.label"}})],1),a("el-form-item",{attrs:{label:"下载链接"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{autosize:""},model:{value:e.article1.download_url,callback:function(t){e.$set(e.article1,"download_url",t)},expression:"article1.download_url"}})],1),a("el-form-item",{attrs:{label:"访问密码"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{autosize:""},model:{value:e.article1.passwd,callback:function(t){e.$set(e.article1,"passwd",t)},expression:"article1.passwd"}}),a("el-tag",{attrs:{type:"success"}},[e._v(" 为空默认不需要密码")])],1),a("el-form-item",{attrs:{label:"封面图链接"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{autosize:"",placeholder:"可自定义封面图链接",maxlength:"10"},model:{value:e.article1.image_url,callback:function(t){e.$set(e.article1,"image_url",t)},expression:"article1.image_url"}}),a("el-upload",{staticClass:"upload-demo",attrs:{name:"common",action:"/api/publicUploadFile","on-success":e.success,"file-list":e.fileList,accept:"image/png, image/jpeg, image/gif, image/jpg, image/bmp","list-type":"picture"},scopedSlots:e._u([{key:"tip",fn:function(){return[a("div",{staticClass:"el-upload__tip"},[e._v("\n              只能上传 jpg/png 文件，且不超过 500kb\n            ")])]},proxy:!0}])},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),a("el-form-item",{attrs:{label:"描述"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.article1.description,expression:"article1.description"}],attrs:{name:"",id:"",cols:"60",rows:"5"},domProps:{value:e.article1.description},on:{input:function(t){t.target.composing||e.$set(e.article1,"description",t.target.value)}}})]),a("el-form-item",{attrs:{label:"资源使用介绍"}},[a("quill-editor",{ref:"myTextEditor",attrs:{options:e.editorOption},model:{value:e.article1.use_description,callback:function(t){e.$set(e.article1,"use_description",t)},expression:"article1.use_description"}})],1),a("el-button",{staticClass:"editor-btn",attrs:{type:"primary"},on:{click:function(t){return e.submit(0)}}},[e._v("保存")]),a("el-button",{staticClass:"editor-btn",attrs:{type:"primary"},on:{click:function(t){return e.submit(1)}}},[e._v("上传")])],1)],1)])},i=[],s=a("ade3"),r=(a("a753"),a("8096"),a("14e1"),a("4328")),c=a.n(r),o=a("953d"),n={name:"editor",data:function(){var e;return{content:"",category:[],delivery:!1,editorOption:{placeholder:"Hello World"},article1:(e={title:"",category:"",label:"",download_url:"",description:"",use_description:"",passwd:"",status:1,image_url:""},Object(s["a"])(e,"status",null),Object(s["a"])(e,"user_id","11"),Object(s["a"])(e,"user_name","admin"),e)}},components:{quillEditor:o["quillEditor"]},methods:{getSourceCategory:function(){var e=this;this.$axios.get("/getSourceCategory").then((function(t){e.category=t.data.data,console.log(e.category)}))},success:function(e,t,a){this.$message.success(e.message),this.article1.image_url=e.data.url,console.log(e),console.log(t),console.log(a)},submit:function(e){var t=this;this.article1.status=e,this.$axios.post("/setSourceData",c.a.stringify(this.article1)).then((function(e){200==e.data.code?0==t.article1.status?t.$message.success("保存成功！"):1==t.article1.status?(t.$message.success("发布成功！"),location.reload()):t.$message.success("已提交审核成功！"):(t.$message.success("操作失败！"),console.log(e.data))})).catch((function(e){t.$message.success(e),console.log(e)}))}},created:function(){this.getSourceCategory()}},u=n,d=(a("d90e"),a("2877")),p=Object(d["a"])(u,l,i,!1,null,"50bf8a42",null);t["default"]=p.exports}}]);