(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d229be7"],{df6e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-home"}),e._v("系统设置\n            ")]),a("el-breadcrumb-item",[e._v("邮箱配置")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"form-box"},[a("el-form",{attrs:{"label-width":"auto"}},[a("el-form-item",{attrs:{label:"SMTP地址"}},[a("el-input",{model:{value:e.email.smtp,callback:function(t){e.$set(e.email,"smtp",t)},expression:"email.smtp"}})],1),a("el-form-item",{attrs:{label:"端口"}},[a("el-input",{model:{value:e.email.smtp_port,callback:function(t){e.$set(e.email,"smtp_port",t)},expression:"email.smtp_port"}})],1),a("el-form-item",{attrs:{label:"邮箱账号"}},[a("el-input",{model:{value:e.email.email,callback:function(t){e.$set(e.email,"email",t)},expression:"email.email"}})],1),a("el-form-item",{attrs:{label:"邮箱授权码"}},[a("el-input",{model:{value:e.email.smtp_password,callback:function(t){e.$set(e.email,"smtp_password",t)},expression:"email.smtp_password"}})],1),a("el-form-item",{attrs:{label:"邮箱昵称"}},[a("el-input",{model:{value:e.email.name,callback:function(t){e.$set(e.email,"name",t)},expression:"email.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.test()}}},[e._v(e._s(e.name))]),a("el-button",{attrs:{type:"primary",size:"medium",round:""},on:{click:function(t){return e.onSubmit()}}},[e._v("保存")])],1)],1)],1)])])},l=[],s={name:"setting",data:function(){return{name:"测试",loading:!1,email:{}}},methods:{test:function(){var e=this;this.loading=!0,this.name="发送中",this.$axios.post("/sendMail",{to:this.email.email,title:"测试",content:"这是一封测试邮件！"}).then((function(t){console.log(t.data),200==t.data.code?(e.$message.success("测试成功！"),e.loading=!1,e.name="测试"):(e.$message.error("发送失败！"),e.loading=!1,e.name="测试")})).catch((function(e){console.log(e)}))},getEmailData:function(){var e=this;this.$axios.get("/getEmail").then((function(t){200!=t.data.code?e.$message.error(t.data.msg):e.email=t.data.data})).catch((function(t){e.$message.error(t),console.log(t)}))},onSubmit:function(){var e=this;this.$axios({method:"post",url:"/setEmail",headers:{"content-type":"application/json"},data:this.email}).then((function(t){console.log(t.data),e.$message.success(t.data.msg)})).catch((function(e){console.log(e)}))}},created:function(){this.getEmailData()}},n=s,o=a("2877"),m=Object(o["a"])(n,i,l,!1,null,null,null);t["default"]=m.exports}}]);